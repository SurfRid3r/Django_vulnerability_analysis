from django.shortcuts import render

# Create your views here.
from django.http import FileResponse
from django.conf import settings
import os

def download_file(request):
    filename = request.GET.get('filename',"output.txt")
    file_path = os.path.join(settings.BASE_DIR,'CVE_2022_36359/output/output.txt')
    # with open(file_path, 'rb') as f:
    #     response = FileResponse(f)
    #     response['Content-Disposition'] = f'attachment; filename="{filename}"'
    #     return response
    f = open(file_path, 'rb')
    response = FileResponse(f)
    response['Content-Disposition'] = f'attachment; filename="{filename}"'
    return response
    response = FileResponse(open(file_path, 'rb'))
    response['Content-Disposition'] = f'attachment; filename="{filename}"'
    return response