from django.db import migrations
from CVE_2022_34265.models import DateModel
from django.utils.timezone import now
import random
from datetime import timedelta

def generate_data(apps, schema_editor):
    for i in range(1, 6):
        start_datetime = now() + timedelta(days=random.randint(1, 10))
        end_datetime = start_datetime + timedelta(days=random.randint(1, 10))
        DateModel.objects.create(start_datetime=start_datetime, end_datetime=end_datetime)

class Migration(migrations.Migration):

    dependencies = [
        ('CVE_2022_34265', '0001_initial'),  # 替换为实际的上一个迁移文件
    ]

    operations = [
        migrations.RunPython(generate_data),
    ]
