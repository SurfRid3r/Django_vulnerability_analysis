from django.db import migrations
from CVE_2020_7471.models import Author, Book

def generate_data(apps, schema_editor):
    author1 = Author.objects.create(name='John Doe')
    author2 = Author.objects.create(name='Jane Smith')

    Book.objects.bulk_create([
        Book(title='Book 1', author=author1),
        Book(title='Book 2', author=author1),
        Book(title='Book 3', author=author2),
        Book(title='Book 4', author=author2),
    ])


class Migration(migrations.Migration):

    dependencies = [
        ('CVE_2020_7471', '0001_initial'),
    ]

    operations = [
        migrations.RunPython(generate_data),
    ]
